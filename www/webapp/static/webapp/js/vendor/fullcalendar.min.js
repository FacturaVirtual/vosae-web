/*

 FullCalendar v1.5.4
 https://github.com/roundcube/fullcalendar

 Use fullcalendar.css for basic styling.
 For event drag & drop, requires jQuery UI draggable.
 For event resizing, requires jQuery UI resizable.

 Copyright (c) 2011 Adam Shaw
 Copyright (c) 2011, Kolab Systems AG
 Dual licensed under the MIT and GPL licenses, located in
 MIT-LICENSE.txt and GPL-LICENSE.txt respectively.

 Date: Mon Jan 28 16:50:03 2013 +0100

*/
(function(n,qa){function Ab(a){n.extend(true,$a,a)}function $b(a,b,g){function c(l){if(I){v();T();Z();R(l)}else f()}function f(){Y=b.theme?"ui":"fc";a.addClass("fc");b.isRTL&&a.addClass("fc-rtl");b.theme&&a.addClass("ui-widget");I=n("<div class='fc-content' style='position:relative'/>").prependTo(a);y=new ac(E,b);(J=y.render())&&a.prepend(J);r(b.defaultView);n(window).resize(la);e()||k()}function k(){setTimeout(function(){!j.start&&e()&&R()},0)}function q(){n(window).unbind("resize",la);y.destroy();
I.remove();a.removeClass("fc fc-rtl ui-widget")}function h(){return ka.offsetWidth!==0}function e(){return n("body")[0].offsetWidth!==0}function r(l){if(!j||l!=j.name){m++;ha();var s=j,ba;if(s){(s.beforeHide||Bb)();ab(I,I.height());s.element.hide()}else ab(I,1);I.css("overflow","hidden");if(j=F[l])j.element.show();else j=F[l]=new Ha[l](ba=ya=n("<div class='fc-view fc-view-"+l+"' style='position:absolute'/>").appendTo(I),E);s&&y.deactivateButton(s.name);y.activateButton(l);R();I.css("overflow","");
s&&ab(I,1);ba||(j.afterShow||Bb)();m--;j.trigger("viewChanged",null,s?s.name:qa,j.name)}}function R(l){if(h()){m++;ha();fa===qa&&v();var s=false;if(!j.start||l||t<j.start||t>=j.end){j.render(t,l||0);A(true);s=true}else if(j.sizeDirty){j.clearEvents();A();s=true}else if(j.eventsDirty){j.clearEvents();s=true}j.sizeDirty=false;j.eventsDirty=false;ca(s);ga=a.outerWidth();y.updateTitle(j.title);l=new Date;l>=j.start&&l<j.end?y.disableButton("today"):y.enableButton("today");m--;j.trigger("viewDisplay",
ka)}}function O(){T();if(h()){v();A();ha();j.clearEvents();j.trigger("viewRender",j);j.renderEvents(X);j.sizeDirty=false}}function T(){n.each(F,function(l,s){s.sizeDirty=true})}function v(){fa=b.contentHeight?b.contentHeight:b.height?b.height-(J?J.height():0)-Ua(I):Math.round(I.width()/Math.max(b.aspectRatio,0.5))}function A(l){m++;j.setHeight(fa,l);if(ya){ya.css("position","relative");ya=null}j.setWidth(I.width(),l);m--}function la(){if(!m)if(j.start){var l=++i;setTimeout(function(){if(l==i&&!m&&
h())if(ga!=(ga=a.outerWidth())){m++;O();j.trigger("windowResize",ka);m--}},200)}else k()}function ca(l){if(!b.lazyFetching||ta(j.visStart,j.visEnd))na();else l&&G()}function na(l){V(j.visStart,j.visEnd,l)}function P(l){X=l;G()}function da(l){G(l)}function G(l){Z();if(h()){j.clearEvents();j.trigger("viewRender",j);j.renderEvents(X,l);j.eventsDirty=false}}function Z(){n.each(F,function(l,s){s.eventsDirty=true})}function ea(l,s,ba){j.select(l,s,ba===qa?true:ba)}function ha(){j&&j.unselect()}function B(){R(-1)}
function x(){R(1)}function $(){jb(t,-1);R()}function U(){jb(t,1);R()}function u(){t=new Date;R()}function p(l,s,ba){if(l instanceof Date)t=H(l);else Cb(t,l,s,ba);R()}function N(l,s,ba){l!==qa&&jb(t,l);s!==qa&&kb(t,s);ba!==qa&&ja(t,ba);R()}function C(){return H(t)}function d(){return j}function Q(l,s){if(s===qa)return b[l];if(l=="height"||l=="contentHeight"||l=="aspectRatio"){b[l]=s;O()}else if(l.indexOf("list")==0||l=="tableCols"){b[l]=s;j.start=null}else if(l=="maxHeight")b[l]=s}function K(l,s){if(b[l])return b[l].apply(s||
ka,Array.prototype.slice.call(arguments,2))}var E=this;E.options=b;E.render=c;E.destroy=q;E.refetchEvents=na;E.reportEvents=P;E.reportEventChange=da;E.rerenderEvents=G;E.changeView=r;E.select=ea;E.unselect=ha;E.prev=B;E.next=x;E.prevYear=$;E.nextYear=U;E.today=u;E.gotoDate=p;E.incrementDate=N;E.formatDate=function(l,s){return Pa(l,s,b)};E.formatDates=function(l,s,ba){return lb(l,s,ba,b)};E.getDate=C;E.getView=d;E.option=Q;E.trigger=K;bc.call(E,b,g);var ta=E.isFetchNeeded,V=E.fetchEvents,ka=a[0],y,
J,I,Y,j,F={},ga,fa,ya,i=0,m=0,t=new Date,X=[],z;Cb(t,b.year,b.month,b.date);b.droppable&&n(document).bind("dragstart",function(l,s){var ba=l.target,oa=n(ba);if(!oa.parents(".fc").length){var ra=b.dropAccept;if(n.isFunction(ra)?ra.call(ba,oa):oa.is(ra)){z=ba;j.dragStart(z,l,s)}}}).bind("dragstop",function(l,s){if(z){j.dragStop(z,l,s);z=null}})}function ac(a,b){function g(){T=b.theme?"ui":"fc";if(b.header)return O=n("<table class='fc-header' style='width:100%'/>").append(n("<tr/>").append(f("left")).append(f("center")).append(f("right")))}
function c(){O.remove()}function f(v){var A=n("<td class='fc-header-"+v+"'/>");(v=b.header[v])&&n.each(v.split(" "),function(la){la>0&&A.append("<span class='fc-header-space'/>");var ca;n.each(this.split(","),function(na,P){if(P=="title"){A.append("<span class='fc-header-title'><h2>&nbsp;</h2></span>");ca&&ca.addClass(T+"-corner-right");ca=null}else{var da;if(a[P])da=a[P];else if(Ha[P])da=function(){Z.removeClass(T+"-state-hover");a.changeView(P)};if(da){na=b.theme?mb(b.buttonIcons,P):null;var G=
mb(b.buttonText,P),Z=n("<span class='fc-button fc-button-"+P+" "+T+"-state-default'><span class='fc-button-inner'><span class='fc-button-content'>"+(na?"<span class='fc-icon-wrap'><span class='ui-icon ui-icon-"+na+"'/></span>":G)+"</span><span class='fc-button-effect'><span></span></span></span></span>");if(Z){Z.click(function(){Z.hasClass(T+"-state-disabled")||da()}).mousedown(function(){Z.not("."+T+"-state-active").not("."+T+"-state-disabled").addClass(T+"-state-down")}).mouseup(function(){Z.removeClass(T+
"-state-down")}).hover(function(){Z.not("."+T+"-state-active").not("."+T+"-state-disabled").addClass(T+"-state-hover")},function(){Z.removeClass(T+"-state-hover").removeClass(T+"-state-down")}).appendTo(A);ca||Z.addClass(T+"-corner-left");ca=Z}}}});ca&&ca.addClass(T+"-corner-right")});return A}function k(v){O.find("h2").html(v)}function q(v){O.find("span.fc-button-"+v).addClass(T+"-state-active")}function h(v){O.find("span.fc-button-"+v).removeClass(T+"-state-active")}function e(v){O.find("span.fc-button-"+
v).addClass(T+"-state-disabled")}function r(v){O.find("span.fc-button-"+v).removeClass(T+"-state-disabled")}var R=this;R.render=g;R.destroy=c;R.updateTitle=k;R.activateButton=q;R.deactivateButton=h;R.disableButton=e;R.enableButton=r;var O=n([]),T}function bc(a,b){function g(d,Q){return!$||d<$||Q>U}function c(d,Q,K){$=d;U=Q;C=typeof K!="undefined"?n.grep(C,function(ta){return!P(ta.source,K)}):[];d=++u;Q=x.length;p=typeof K=="undefined"?Q:1;for(var E=0;E<Q;E++)if(typeof K=="undefined"||P(x[E],K))f(x[E],
d)}function f(d,Q){k(d,function(K){if(Q==u){if(K){for(var E=0;E<K.length;E++){K[E].source=d;ca(K[E])}C=C.concat(K)}p--;p||ha(C)}})}function k(d,Q){var K,E=Aa.sourceFetchers,ta;for(K=0;K<E.length;K++){ta=E[K](d,$,U,Q);if(ta===true)return;else if(typeof ta=="object"){k(ta,Q);return}}if(K=d.events)if(n.isFunction(K)){A();K(H($),H(U),function(J){Q(J);la()})}else n.isArray(K)?Q(K):Q();else if(d.url){var V=d.success,ka=d.error,y=d.complete;K=n.extend({},d.data||{});E=Va(d.startParam,a.startParam);ta=Va(d.endParam,
a.endParam);if(E)K[E]=Math.round(+$/1E3);if(ta)K[ta]=Math.round(+U/1E3);A();n.ajax(n.extend({},cc,d,{data:K,success:function(J){J=J||[];var I=bb(V,this,arguments);if(n.isArray(I))J=I;Q(J)},error:function(){bb(ka,this,arguments);Q()},complete:function(){bb(y,this,arguments);la()}}))}else Q()}function q(){return x}function h(d){if(d=e(d)){p++;f(d,u)}}function e(d){if(n.isFunction(d)||n.isArray(d))d={events:d};else if(typeof d=="string")d={url:d};if(typeof d=="object"){na(d);x.push(d);return d}}function r(d){x=
n.grep(x,function(Q){return!P(Q,d)});C=n.grep(C,function(Q){return!P(Q.source,d)});ha(C)}function R(d){var Q,K=C.length,E,ta=ea().defaultEventEnd,V=d.start-d._start,ka=d.end?d.end-(d._end||ta(d)):0;for(Q=0;Q<K;Q++){E=C[Q];if(E._id==d._id&&E!=d){E.start=new Date(+E.start+V);E.end=d.end?E.end?new Date(+E.end+ka):new Date(+ta(E)+ka):null;E.title=d.title;E.url=d.url;E.allDay=d.allDay;E.className=d.className;E.editable=d.editable;E.color=d.color;E.backgroudColor=d.backgroudColor;E.borderColor=d.borderColor;
E.textColor=d.textColor;ca(E)}}ca(d);ha(C)}function O(d,Q){ca(d);if(!d.source)if(Q){B.events.push(d);d.source=B}C.push(d);ha(C)}function T(d){if(d){if(!n.isFunction(d)){var Q=d+"";d=function(E){return E._id==Q}}C=n.grep(C,d,true);for(K=0;K<x.length;K++)if(n.isArray(x[K].events))x[K].events=n.grep(x[K].events,d,true)}else{C=[];for(var K=0;K<x.length;K++)if(n.isArray(x[K].events))x[K].events=[]}ha(C)}function v(d){if(n.isFunction(d))return n.grep(C,d);else if(d){d+="";return n.grep(C,function(Q){return Q._id==
d})}return C}function A(){N++||Z("loading",null,true)}function la(){--N||Z("loading",null,false)}function ca(d){var Q=d.source||{},K=Va(Q.ignoreTimezone,a.ignoreTimezone);d._id=d._id||(d.id===qa?"_fc"+dc++:d.id+"");if(d.date){if(!d.start)d.start=d.date;delete d.date}d._start=H(d.start=nb(d.start,K));d.end=nb(d.end,K);if(d.end&&d.end<=d.start)d.end=null;d._end=d.end?H(d.end):null;if(d.allDay===qa)d.allDay=Va(Q.allDayDefault,a.allDayDefault);if(d.className){if(typeof d.className=="string")d.className=
d.className.split(/\s+/)}else d.className=[]}function na(d){if(d.className){if(typeof d.className=="string")d.className=d.className.split(/\s+/)}else d.className=[];for(var Q=Aa.sourceNormalizers,K=0;K<Q.length;K++)Q[K](d)}function P(d,Q){return d&&Q&&da(d)==da(Q)}function da(d){return(typeof d=="object"?d.events||d.url:"")||d}var G=this;G.isFetchNeeded=g;G.fetchEvents=c;G.addEventSource=h;G.removeEventSource=r;G.updateEvent=R;G.renderEvent=O;G.removeEvents=T;G.clientEvents=v;G.normalizeEvent=ca;
G.getEventSources=q;var Z=G.trigger,ea=G.getView,ha=G.reportEvents,B={events:[]},x=[B],$,U,u=0,p=0,N=0,C=[];for(G=0;G<b.length;G++)e(b[G])}function jb(a,b,g){a.setFullYear(a.getFullYear()+b);g||Ia(a);return a}function kb(a,b,g){if(+a){b=a.getMonth()+b;var c=H(a);c.setDate(1);c.setMonth(b);a.setMonth(b);for(g||Ia(a);a.getMonth()!=c.getMonth();)a.setDate(a.getDate()+(a<c?1:-1))}return a}function ja(a,b,g){if(+a){b=a.getDate()+b;var c=H(a);c.setHours(9);c.setDate(b);a.setDate(b);g||Ia(a);ob(a,c)}return a}
function ob(a,b){if(+a)for(;a.getDate()!=b.getDate();)a.setTime(+a+(a<b?1:-1)*ec)}function xa(a,b){a.setMinutes(a.getMinutes()+b);return a}function Ia(a){a.setHours(0);a.setMinutes(0);a.setSeconds(0);a.setMilliseconds(0);return a}function H(a,b){if(b)return Ia(new Date(+a));return new Date(+a)}function Db(){var a=0,b;do b=new Date(1970,a++,1);while(b.getHours());return b}function Ja(a,b,g){for(b=b||1;!a.getDay()||g&&a.getDay()==1||!g&&a.getDay()==6;)ja(a,b);return a}function Ba(a,b){return Math.round((H(a,
true)-H(b,true))/Qa)}function Cb(a,b,g,c){if(b!==qa&&b!=a.getFullYear()){a.setDate(1);a.setMonth(0);a.setFullYear(b)}if(g!==qa&&g!=a.getMonth()){a.setDate(1);a.setMonth(g)}c!==qa&&a.setDate(c)}function nb(a,b){if(typeof a=="object")return a;if(typeof a=="number")return new Date(a*1E3);if(typeof a=="string"){if(a.match(/^\d+(\.\d+)?$/))return new Date(parseFloat(a)*1E3);if(b===qa)b=true;return Eb(a,b)||(a?new Date(a):null)}return null}function Eb(a,b){a=a.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2})(:?([0-9]{2}))?))?)?)?)?$/);
if(!a)return null;var g=new Date(a[1],0,1);if(b||!a[13]){b=new Date(a[1],0,1,9,0);if(a[3]){g.setMonth(a[3]-1);b.setMonth(a[3]-1)}if(a[5]){g.setDate(a[5]);b.setDate(a[5])}ob(g,b);a[7]&&g.setHours(a[7]);a[8]&&g.setMinutes(a[8]);a[10]&&g.setSeconds(a[10]);a[12]&&g.setMilliseconds(Number("0."+a[12])*1E3);ob(g,b)}else{g.setUTCFullYear(a[1],a[3]?a[3]-1:0,a[5]||1);g.setUTCHours(a[7]||0,a[8]||0,a[10]||0,a[12]?Number("0."+a[12])*1E3:0);if(a[14]){b=Number(a[16])*60+(a[18]?Number(a[18]):0);b*=a[15]=="-"?1:-1;
g=new Date(+g+b*60*1E3)}}return g}function pb(a){if(typeof a=="number")return a*60;if(typeof a=="object")return a.getHours()*60+a.getMinutes();if(a=a.match(/(\d+)(?::(\d+))?\s*(\w+)?/)){var b=parseInt(a[1],10);if(a[3]){b%=12;if(a[3].toLowerCase().charAt(0)=="p")b+=12}return b*60+(a[2]?parseInt(a[2],10):0)}}function Pa(a,b,g){return lb(a,null,b,g)}function lb(a,b,g,c){c=c||$a;var f=a,k=b,q,h=g.length,e,r,R,O="";for(q=0;q<h;q++){e=g.charAt(q);if(e=="'")for(r=q+1;r<h;r++){if(g.charAt(r)=="'"){if(f){O+=
r==q+1?"'":g.substring(q+1,r);q=r}break}}else if(e=="(")for(r=q+1;r<h;r++){if(g.charAt(r)==")"){q=Pa(f,g.substring(q+1,r),c);if(parseInt(q.replace(/\D/,""),10))O+=q;q=r;break}}else if(e=="[")for(r=q+1;r<h;r++){if(g.charAt(r)=="]"){e=g.substring(q+1,r);q=Pa(f,e,c);if(q!=Pa(k,e,c))O+=q;q=r;break}}else if(e=="{"){f=b;k=a}else if(e=="}"){f=a;k=b}else{for(r=h;r>q;r--)if(R=fc[g.substring(q,r)]){if(f)O+=R(f,c);q=r-1;break}if(r==q)if(f)O+=e}}return O}function Wa(a){return a.end?gc(a.end,a.allDay):ja(H(a.start),
1)}function gc(a,b){a=H(a);return b||a.getHours()||a.getMinutes()?ja(a,1):Ia(a)}function hc(a,b){return(b.msLength-a.msLength)*100+(a.event.start-b.event.start)}function Fb(a,b){return a.end>b.start&&a.start<b.end}function qb(a,b,g,c){var f=[],k,q=a.length,h,e,r,R,O;for(k=0;k<q;k++){h=a[k];e=h.start;r=b[k];if(r>g&&e<c){if(e<g){e=H(g);R=false}else{e=e;R=true}if(r>c){r=H(c);O=false}else{r=r;O=true}f.push({event:h,start:e,end:r,isStart:R,isEnd:O,msLength:r-e})}}return f.sort(hc)}function rb(a){var b=
[],g,c=a.length,f,k,q,h;for(g=0;g<c;g++){f=a[g];for(k=0;;){q=false;if(b[k])for(h=0;h<b[k].length;h++)if(Fb(b[k][h],f)){q=true;break}if(q)k++;else break}if(b[k])b[k].push(f);else b[k]=[f]}return b}function Gb(a,b,g){a.unbind("mouseover").mouseover(function(c){for(var f=c.target,k;f!=this;){k=f;f=f.parentNode}if((f=k._fci)!==qa){k._fci=qa;k=b[f];g(k.event,k.element,k);n(c.target).trigger(c)}c.stopPropagation()})}function Xa(a,b,g){for(var c=0,f;c<a.length;c++){f=n(a[c]);f.width(Math.max(0,b-sb(f,g)))}}
function Hb(a,b,g){for(var c=0,f;c<a.length;c++){f=n(a[c]);f.height(Math.max(0,b-Ua(f,g)))}}function sb(a,b){return ic(a)+jc(a)+(b?kc(a):0)}function ic(a){return(parseFloat(n.css(a[0],"paddingLeft",true))||0)+(parseFloat(n.css(a[0],"paddingRight",true))||0)}function kc(a){return(parseFloat(n.css(a[0],"marginLeft",true))||0)+(parseFloat(n.css(a[0],"marginRight",true))||0)}function jc(a){return(parseFloat(n.css(a[0],"borderLeftWidth",true))||0)+(parseFloat(n.css(a[0],"borderRightWidth",true))||0)}function Ua(a,
b){return lc(a)+mc(a)+(b?Ib(a):0)}function lc(a){return(parseFloat(n.css(a[0],"paddingTop",true))||0)+(parseFloat(n.css(a[0],"paddingBottom",true))||0)}function Ib(a){return(parseFloat(n.css(a[0],"marginTop",true))||0)+(parseFloat(n.css(a[0],"marginBottom",true))||0)}function mc(a){return(parseFloat(n.css(a[0],"borderTopWidth",true))||0)+(parseFloat(n.css(a[0],"borderBottomWidth",true))||0)}function ab(a,b){b=typeof b=="number"?b+"px":b;a.each(function(g,c){c.style.cssText+=";min-height:"+b+";_height:"+
b})}function Bb(){}function Jb(a,b){return a-b}function Kb(a){return Math.max.apply(Math,a)}function Ra(a){return(a<10?"0":"")+a}function mb(a,b){if(a[b]!==qa)return a[b];b=b.split(/(?=[A-Z])/);for(var g=b.length-1,c;g>=0;g--){c=a[b[g].toLowerCase()];if(c!==qa)return c}return a[""]}function Ea(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function Lb(a){return a.id+"/"+a.className+"/"+a.style.cssText.replace(/(^|;)\s*(top|left|width|height)\s*:[^;]*/ig,
"")}function tb(a){a.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return false})}function Sa(a){a.children().removeClass("fc-first fc-last").filter(":first-child").addClass("fc-first").end().filter(":last-child").addClass("fc-last")}function ub(a,b){a.each(function(g,c){c.className=c.className.replace(/^fc-\w*/,"fc-"+Mb[b.getDay()])})}function cb(a,b){var g=a.source||{},c=a.color,f=g.color,k=b("eventColor"),q=a.backgroundColor||c||g.backgroundColor||f||b("eventBackgroundColor")||
k;c=a.borderColor||c||g.borderColor||f||b("eventBorderColor")||k;a=a.textColor||g.textColor||b("eventTextColor");b=[];if(q)b.push("background-color:"+(n.isFunction(q)?q():q));if(c)b.push("border-color:"+(n.isFunction(c)?c():c));if(a)b.push("color:"+(n.isFunction(a)?a():a));return b.join(";")}function bb(a,b,g){if(n.isFunction(a))a=[a];if(a){var c,f;for(c=0;c<a.length;c++)f=a[c].apply(b,g)||f;return f}}function Va(){for(var a=0;a<arguments.length;a++)if(arguments[a]!==qa)return arguments[a]}function nc(a,
b){function g(h,e){if(e){kb(h,e);h.setDate(1)}h=H(h,true);h.setDate(1);e=kb(H(h),1);var r=H(h),R=H(e),O=f("firstDay"),T=f("weekends")?0:1;if(T){Ja(r);Ja(R,-1,true)}ja(r,-((r.getDay()-Math.max(O,T)+7)%7));ja(R,(7-R.getDay()+Math.max(O,T))%7);O=Math.round((R-r)/(Qa*7));if(f("weekMode")=="fixed"){ja(R,(6-O)*7);O=6}c.title=q(h,f("titleFormat"));c.start=h;c.end=e;c.visStart=r;c.visEnd=R;k(6,O,T?5:7,true)}var c=this;c.render=g;vb.call(c,a,b,"month");var f=c.opt,k=c.renderBasic,q=b.formatDate}function oc(a,
b){function g(h,e){e&&ja(h,e*7);h=ja(H(h),-((h.getDay()-f("firstDay")+7)%7));e=ja(H(h),7);var r=H(h),R=H(e),O=f("weekends");if(!O){Ja(r);Ja(R,-1,true)}c.title=q(r,ja(H(R),-1),f("titleFormat"));c.start=h;c.end=e;c.visStart=r;c.visEnd=R;k(1,1,O?7:5,false)}var c=this;c.render=g;vb.call(c,a,b,"basicWeek");var f=c.opt,k=c.renderBasic,q=b.formatDates}function pc(a,b){function g(h,e){if(e){ja(h,e);f("weekends")||Ja(h,e<0?-1:1)}c.title=q(h,f("titleFormat"));c.start=c.visStart=H(h,true);c.end=c.visEnd=ja(H(c.start),
1);k(1,1,1,false)}var c=this;c.render=g;vb.call(c,a,b,"basicDay");var f=c.opt,k=c.renderBasic,q=b.formatDate}function vb(a,b,g){function c(w,L,aa,S){i=L;m=aa;f();(L=!y)?k(w,S):d();q(L)}function f(){if(l=N("isRTL")){s=-1;ba=m-1}else{s=1;ba=0}oa=N("firstDay");ra=N("weekends")?0:1;pa=N("theme")?"ui":"fc";ua=N("columnFormat")}function k(w,L){var aa,S=pa+"-widget-header",ma=pa+"-widget-content",ia;aa="<table class='fc-border-separate' style='width:100%' cellspacing='0'><thead><tr>";for(ia=0;ia<m;ia++)aa+=
"<th class='fc- "+S+"'/>";aa+="</tr></thead><tbody>";for(ia=0;ia<w;ia++){aa+="<tr class='fc-week"+ia+"'>";for(S=0;S<m;S++)aa+="<td class='fc- "+ma+" fc-day"+(ia*m+S)+"'><div>"+(L?"<div class='fc-day-number'/>":"")+"<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>";aa+="</tr>"}aa+="</tbody></table>";w=n(aa).appendTo(a);V=w.find("thead");ka=V.find("th");y=w.find("tbody");J=y.find("tr");I=y.find("td");Y=I.filter(":first-child");j=J.eq(0).find("div.fc-day-content div");
Sa(V.add(V.find("tr")));Sa(J);J.eq(0).addClass("fc-first");r(I);F=n("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(a)}function q(w){var L=w||i==1,aa=p.start.getMonth(),S=Ia(new Date),ma,ia,va;L&&ka.each(function(wa,Ca){ma=n(Ca);ia=x(wa);ma.html(ta(ia,ua));ub(ma,ia)});I.each(function(wa,Ca){ma=n(Ca);ia=x(wa);ia.getMonth()==aa?ma.removeClass("fc-other-month"):ma.addClass("fc-other-month");+ia==+S?ma.addClass(pa+"-state-highlight fc-today"):ma.removeClass(pa+"-state-highlight fc-today");
ma.find("div.fc-day-number").text(ia.getDate());L&&ub(ma,ia)});J.each(function(wa,Ca){va=n(Ca);if(wa<i){va.show();wa==i-1?va.addClass("fc-last"):va.removeClass("fc-last")}else va.hide()})}function h(w){fa=w;w=fa-V.height();var L,aa,S;if(N("weekMode")=="variable")L=aa=Math.floor(w/(i==1?2:6));else{L=Math.floor(w/i);aa=w-L*(i-1)}Y.each(function(ma,ia){if(ma<i){S=n(ia);ab(S.find("> div"),(ma==i-1?aa:L)-Ua(S))}})}function e(w){ga=w;z.clear();ya=Math.floor(ga/m);Xa(ka.slice(0,-1),ya)}function r(w){w.click(R).mousedown(E)}
function R(w){if(!N("selectable")){var L=parseInt(this.className.match(/fc\-day(\d+)/)[1]);L=x(L);C("dayClick",this,L,true,w)}}function O(w,L,aa){aa&&t.build();aa=H(p.visStart);for(var S=ja(H(aa),m),ma=0;ma<i;ma++){var ia=new Date(Math.max(aa,w)),va=new Date(Math.min(S,L));if(ia<va){var wa;if(l){wa=Ba(va,aa)*s+ba+1;ia=Ba(ia,aa)*s+ba+1}else{wa=Ba(ia,aa);ia=Ba(va,aa)}r(T(ma,wa,ma,ia-1))}ja(aa,7);ja(S,7)}}function T(w,L,aa,S){w=t.rect(w,L,aa,S,a);return Q(w,a)}function v(w){return H(w)}function A(w,
L){O(w,ja(H(L),1),true)}function la(){K()}function ca(w,L,aa){var S=ea(w);C("dayClick",I[S.row*m+S.col],w,L,aa)}function na(w,L){X.start(function(aa){K();aa&&T(aa.row,aa.col,aa.row,aa.col)},L)}function P(w,L,aa){var S=X.stop();K();if(S){S=ha(S);C("drop",w,S,true,L,aa)}}function da(w){return H(w.start)}function G(w){return z.left(w)}function Z(w){return z.right(w)}function ea(w){return{row:Math.floor(Ba(w,p.visStart)/7),col:$(w.getDay())}}function ha(w){return B(w.row,w.col)}function B(w,L){return ja(H(p.visStart),
w*7+L*s+ba)}function x(w){return B(Math.floor(w/m),w%m)}function $(w){return(w-Math.max(oa,ra)+m)%m*s+ba}function U(w){return J.eq(w)}function u(){return{left:0,right:ga}}var p=this;p.renderBasic=c;p.setHeight=h;p.setWidth=e;p.renderDayOverlay=O;p.defaultSelectionEnd=v;p.renderSelection=A;p.clearSelection=la;p.reportDayClick=ca;p.dragStart=na;p.dragStop=P;p.defaultEventEnd=da;p.getHoverListener=function(){return X};p.colContentLeft=G;p.colContentRight=Z;p.dayOfWeekCol=$;p.dateCell=ea;p.cellDate=ha;
p.cellIsAllDay=function(){return true};p.allDayRow=U;p.allDayBounds=u;p.getRowCnt=function(){return i};p.getColCnt=function(){return m};p.getColWidth=function(){return ya};p.getDaySegmentContainer=function(){return F};db.call(p,a,b,g);Nb.call(p);Ob.call(p);qc.call(p);var N=p.opt,C=p.trigger,d=p.clearEvents,Q=p.renderOverlay,K=p.clearOverlays,E=p.daySelectionMousedown,ta=b.formatDate,V,ka,y,J,I,Y,j,F,ga,fa,ya,i,m,t,X,z,l,s,ba,oa,ra,pa,ua;tb(a.addClass("fc-grid"));t=new Pb(function(w,L){var aa,S,ma;
ka.each(function(ia,va){aa=n(va);S=aa.offset().left;if(ia)ma[1]=S;ma=[S];L[ia]=ma});ma[1]=S+aa.outerWidth();J.each(function(ia,va){if(ia<i){aa=n(va);S=aa.offset().top;if(ia)ma[1]=S;ma=[S];w[ia]=ma}});ma[1]=S+aa.outerHeight()});X=new Qb(t);z=new Rb(function(w){return j.eq(w)})}function qc(){function a(B,x){R(B);ea(g(B),x)}function b(){O();ca().empty()}function g(B){var x=G(),$=Z(),U=H(k.visStart);$=ja(H(U),$);var u=n.map(B,Wa),p,N,C,d,Q,K,E=[];for(p=0;p<x;p++){N=rb(qb(B,u,U,$));for(C=0;C<N.length;C++){d=
N[C];for(Q=0;Q<d.length;Q++){K=d[Q];K.row=p;K.level=C;E.push(K)}}ja(U,7);ja($,7)}return E}function c(B,x,$){e(B)&&f(B,x);$.isEnd&&r(B)&&ha(B,x,$);T(B,x)}function f(B,x){var $=na(),U;x.draggable({zIndex:9,delay:50,opacity:q("dragOpacity"),revertDuration:q("dragRevertDuration"),start:function(u,p){h("eventDragStart",x,B,u,p);A(B,x);$.start(function(N,C,d,Q){x.draggable("option","revert",!N||!d&&!Q);da();if(N){U=d*7+Q*(q("isRTL")?-1:1);P(ja(H(B.start),U),ja(Wa(B),U))}else U=0},u,"drag")},stop:function(u,
p){$.stop();da();h("eventDragStop",x,B,u,p);if(U)la(this,B,U,0,B.allDay,u,p);else{x.css("filter","");v(B,x)}}})}var k=this;k.renderEvents=a;k.compileDaySegs=g;k.clearEvents=b;k.bindDaySeg=c;wb.call(k);var q=k.opt,h=k.trigger,e=k.isEventDraggable,r=k.isEventResizable,R=k.reportEvents,O=k.reportEventClear,T=k.eventElementHandlers,v=k.showEvents,A=k.hideEvents,la=k.eventDrop,ca=k.getDaySegmentContainer,na=k.getHoverListener,P=k.renderDayOverlay,da=k.clearOverlays,G=k.getRowCnt,Z=k.getColCnt,ea=k.renderDaySegs,
ha=k.resizableDayEvent}function rc(a,b){function g(h,e){e&&ja(h,e*7);h=ja(H(h),-((h.getDay()-f("firstDay")+7)%7));e=ja(H(h),7);var r=H(h),R=H(e),O=f("weekends");if(!O){Ja(r);Ja(R,-1,true)}c.title=q(r,ja(H(R),-1),f("titleFormat"));c.start=h;c.end=e;c.visStart=r;c.visEnd=R;k(O?7:5)}var c=this;c.render=g;Sb.call(c,a,b,"agendaWeek");var f=c.opt,k=c.renderAgenda,q=b.formatDates}function sc(a,b){function g(h,e){if(e){ja(h,e);f("weekends")||Ja(h,e<0?-1:1)}e=H(h,true);var r=ja(H(e),1);c.title=q(h,f("titleFormat"));
c.start=c.visStart=e;c.end=c.visEnd=r;k(1)}var c=this;c.render=g;Sb.call(c,a,b,"agendaDay");var f=c.opt,k=c.renderAgenda,q=b.formatDate}function Sb(a,b,g){function c(o){Da=o;f();i?J():k();q()}function f(){Ya=ka("theme")?"ui":"fc";Tb=ka("weekends")?0:1;Ub=ka("firstDay");if(Vb=ka("isRTL")){Ka=-1;La=Da-1}else{Ka=1;La=0}Ma=pb(ka("minTime"));eb=pb(ka("maxTime"));Wb=ka("columnFormat")}function k(){var o=Ya+"-widget-header",W=Ya+"-widget-content",M,D,sa,za,Fa,Ga=ka("slotMinutes")%15==0;M="<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'><thead><tr><th class='fc-agenda-axis "+
o+"'>&nbsp;</th>";for(D=0;D<Da;D++)M+="<th class='fc- fc-col"+D+" "+o+"'/>";M+="<th class='fc-agenda-gutter "+o+"'>&nbsp;</th></tr></thead><tbody><tr><th class='fc-agenda-axis "+o+"'>&nbsp;</th>";for(D=0;D<Da;D++)M+="<td class='fc- fc-col"+D+" "+W+"'><div><div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>";M+="<td class='fc-agenda-gutter "+W+"'>&nbsp;</td></tr></tbody></table>";i=n(M).appendTo(a);m=i.find("thead");t=m.find("th").slice(1,-1);X=i.find("tbody");
z=X.find("td").slice(0,-1);l=z.find("div.fc-day-content div");s=z.eq(0);ba=s.find("> div");Sa(m.add(m.find("tr")));Sa(X.add(X.find("tr")));ia=m.find("th:first");va=i.find(".fc-agenda-gutter");oa=n("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(a);if(ka("allDaySlot")){ra=n("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(oa);M="<table style='width:100%' class='fc-agenda-allday' cellspacing='0'><tr><th class='"+o+" fc-agenda-axis'>"+ka("allDayText")+"</th><td><div class='fc-day-content'><div style='position:relative'/></div></td><th class='"+
o+" fc-agenda-gutter'>&nbsp;</th></tr></table>";pa=n(M).appendTo(oa);ua=pa.find("tr");T(ua.find("td"));ia=ia.add(pa.find("th:first"));va=va.add(pa.find("th.fc-agenda-gutter"));oa.append("<div class='fc-agenda-divider "+o+"'><div class='fc-agenda-divider-inner'/></div>")}else ra=n([]);w=n("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(oa);L=n("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo(w);aa=n("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(L);
M="<table class='fc-agenda-slots' style='width:100%' cellspacing='0'><tbody>";sa=Db();za=xa(H(sa),eb);xa(sa,Ma);for(D=xb=0;sa<za;D++){Fa=sa.getMinutes();M+="<tr class='fc-slot"+D+" "+(!Fa?"":"fc-minor")+"'><th class='fc-agenda-axis "+o+"'>"+(!Ga||!Fa?ya(sa,ka("axisFormat")):"&nbsp;")+"</th><td class='"+W+"'><div style='position:relative'>&nbsp;</div></td></tr>";xa(sa,ka("slotMinutes"));xb++}M+="</tbody></table>";S=n(M).appendTo(L);ma=S.find("div:first");v(S.find("td"));ia=ia.add(S.find("th:first"))}
function q(){var o,W,M,D,sa=Ia(new Date);for(o=0;o<Da;o++){D=ea(o);W=t.eq(o);W.html(ya(D,Wb));M=z.eq(o);+D==+sa?M.addClass(Ya+"-state-highlight fc-today"):M.removeClass(Ya+"-state-highlight fc-today");ub(W.add(M),D)}}function h(o,W){if(o===qa)o=Xb;Xb=o;yb={};var M=X.position().top,D=w.position().top;o=Math.min(o-M,S.height()+D+1);ba.height(o-Ua(s));oa.css("top",M);w.height(o-D-1);Za=ma.height()+1;W&&r()}function e(o){Ca=o;fb.clear();Na=0;Xa(ia.width("").each(function(W,M){Na=Math.max(Na,n(M).outerWidth())}),
Na);o=w[0].clientWidth;if(zb=w.width()-o){Xa(va,zb);va.show().prev().removeClass("fc-last")}else va.hide().prev().addClass("fc-last");gb=Math.floor((o-Na)/Da);Xa(t.slice(0,-1),gb)}function r(){function o(){w.scrollTop(D)}var W=Db(),M=H(W);M.setHours(ka("firstHour"));var D=x(W,M)+1;o();setTimeout(o,0)}function R(){Yb=w.scrollTop()}function O(){w.scrollTop(Yb)}function T(o){o.click(A).mousedown(ga)}function v(o){o.click(A).mousedown(Q)}function A(o){if(!ka("selectable")){var W=Math.min(Da-1,Math.floor((o.pageX-
i.offset().left-Na)/gb)),M=ea(W),D=this.parentNode.className.match(/fc-slot(\d+)/);if(D){D=parseInt(D[1])*ka("slotMinutes");var sa=Math.floor(D/60);M.setHours(sa);M.setMinutes(D%60+Ma);y("dayClick",z[W],M,false,o)}else y("dayClick",z[W],M,true,o)}}function la(o,W,M){M&&Oa.build();var D=H(V.visStart);if(Vb){M=Ba(W,D)*Ka+La+1;o=Ba(o,D)*Ka+La+1}else{M=Ba(o,D);o=Ba(W,D)}M=Math.max(0,M);o=Math.min(Da,o);M<o&&T(ca(0,M,0,o-1))}function ca(o,W,M,D){o=Oa.rect(o,W,M,D,oa);return I(o,oa)}function na(o,W){for(var M=
H(V.visStart),D=ja(H(M),1),sa=0;sa<Da;sa++){var za=new Date(Math.max(M,o)),Fa=new Date(Math.min(D,W));if(za<Fa){var Ga=sa*Ka+La;Ga=Oa.rect(0,Ga,0,Ga,L);za=x(M,za);Fa=x(M,Fa);Ga.top=za;Ga.height=Fa-za;v(I(Ga,L))}ja(M,1);ja(D,1)}}function P(o){return fb.left(o)}function da(o){return fb.right(o)}function G(o){return{row:Math.floor(Ba(o,V.visStart)/7),col:B(o.getDay())}}function Z(o){var W=ea(o.col);o=o.row;ka("allDaySlot")&&o--;o>=0&&xa(W,Ma+o*ka("slotMinutes"));return W}function ea(o){return ja(H(V.visStart),
o*Ka+La)}function ha(o){return ka("allDaySlot")&&!o.row}function B(o){return(o-Math.max(Ub,Tb)+Da)%Da*Ka+La}function x(o,W){o=H(o,true);if(W<xa(H(o),Ma))return 0;if(W>=xa(H(o),eb))return S.height();o=ka("slotMinutes");W=W.getHours()*60+W.getMinutes()-Ma;var M=Math.floor(W/o),D=yb[M];if(D===qa)D=yb[M]=S.find("tr:eq("+M+") td div")[0].offsetTop;return Math.max(0,Math.round(D-1+Za*(W%o/o)))}function $(){return{left:Na,right:Ca-zb}}function U(){return ua}function u(o){var W=H(o.start);if(o.allDay)return W;
return xa(W,ka("defaultEventMinutes"))}function p(o,W){if(W)return H(o);return xa(H(o),ka("slotMinutes"))}function N(o,W,M){if(M)ka("allDaySlot")&&la(o,ja(H(W),1),true);else C(o,W)}function C(o,W){var M=ka("selectHelper");Oa.build();if(M){var D=Ba(o,V.visStart)*Ka+La;if(D>=0&&D<Da){D=Oa.rect(0,D,0,D,L);var sa=x(o,o),za=x(o,W);if(za>sa){D.top=sa;D.height=za-sa;D.left+=2;D.width-=5;if(n.isFunction(M)){if(o=M(o,W)){D.position="absolute";D.zIndex=8;wa=n(o).css(D).appendTo(L)}}else{D.isStart=true;D.isEnd=
true;wa=n(fa({title:"",start:o,end:W,className:["fc-select-helper"],editable:false},D));wa.css("opacity",ka("dragOpacity"))}if(wa){v(wa);L.append(wa);Xa(wa,D.width,true);Hb(wa,D.height,true)}}}}else na(o,W)}function d(){Y();if(wa){wa.remove();wa=null}}function Q(o){if(o.which==1&&ka("selectable")){F(o);var W,M=ka("selectHelper");Ta.start(function(D,sa){d();if(D&&(D.col==sa.col||!M)&&!ha(D)){sa=Z(sa);D=Z(D);W=[sa,xa(H(sa),ka("slotMinutes")),D,xa(H(D),ka("slotMinutes"))].sort(Jb);C(W[0],W[3])}else W=
null},o);n(document).one("mouseup",function(D){Ta.stop();if(W){+W[0]==+W[1]&&K(W[0],false,D);j(W[0],W[3],false,D)}})}}function K(o,W,M){y("dayClick",z[B(o.getDay())],o,W,M)}function E(o,W){Ta.start(function(M){Y();if(M)if(ha(M))ca(M.row,M.col,M.row,M.col);else{M=Z(M);var D=xa(H(M),ka("defaultEventMinutes"));na(M,D)}},W)}function ta(o,W,M){var D=Ta.stop();Y();D&&y("drop",o,Z(D),ha(D),W,M)}var V=this;V.renderAgenda=c;V.setWidth=e;V.setHeight=h;V.beforeHide=R;V.afterShow=O;V.defaultEventEnd=u;V.timePosition=
x;V.dayOfWeekCol=B;V.dateCell=G;V.cellDate=Z;V.cellIsAllDay=ha;V.allDayRow=U;V.allDayBounds=$;V.getHoverListener=function(){return Ta};V.colContentLeft=P;V.colContentRight=da;V.getDaySegmentContainer=function(){return ra};V.getSlotSegmentContainer=function(){return aa};V.getMinMinute=function(){return Ma};V.getMaxMinute=function(){return eb};V.getBodyContent=function(){return L};V.getRowCnt=function(){return 1};V.getColCnt=function(){return Da};V.getColWidth=function(){return gb};V.getSlotHeight=
function(){return Za};V.defaultSelectionEnd=p;V.renderDayOverlay=la;V.renderSelection=N;V.clearSelection=d;V.reportDayClick=K;V.dragStart=E;V.dragStop=ta;db.call(V,a,b,g);Nb.call(V);Ob.call(V);tc.call(V);var ka=V.opt,y=V.trigger,J=V.clearEvents,I=V.renderOverlay,Y=V.clearOverlays,j=V.reportSelection,F=V.unselect,ga=V.daySelectionMousedown,fa=V.slotSegHtml,ya=b.formatDate,i,m,t,X,z,l,s,ba,oa,ra,pa,ua,w,L,aa,S,ma,ia,va,wa,Ca,Xb,Na,gb,zb,Za,Yb,Da,xb,Oa,Ta,fb,yb={},Ya,Ub,Tb,Vb,Ka,La,Ma,eb,Wb;tb(a.addClass("fc-agenda"));
Oa=new Pb(function(o,W){function M(hb){return Math.max(Ga,Math.min(uc,hb))}var D,sa,za;t.each(function(hb,vc){D=n(vc);sa=D.offset().left;if(hb)za[1]=sa;za=[sa];W[hb]=za});za[1]=sa+D.outerWidth();if(ka("allDaySlot")){D=ua;sa=D.offset().top;o[0]=[sa,sa+D.outerHeight()]}for(var Fa=L.offset().top,Ga=w.offset().top,uc=Ga+w.outerHeight(),ib=0;ib<xb;ib++)o.push([M(Fa+Za*ib),M(Fa+Za*(ib+1))])});Ta=new Qb(Oa);fb=new Rb(function(o){return l.eq(o)})}function tc(){function a(i,m){da(i);var t,X=i.length,z=[],
l=[];for(t=0;t<X;t++)i[t].allDay?z.push(i[t]):l.push(i[t]);if(A("allDaySlot")){C(g(z),m);ea()}k(c(l),m);if(A("currentTimeIndicator")){window.clearInterval(ya);ya=window.setInterval(r,3E4);r()}}function b(){G();ha().empty();B().empty()}function g(i){i=rb(qb(i,n.map(i,Wa),v.visStart,v.visEnd));var m,t=i.length,X,z,l,s=[];for(m=0;m<t;m++){X=i[m];for(z=0;z<X.length;z++){l=X[z];l.row=0;l.level=m;s.push(l)}}return s}function c(i){var m=Q(),t=U(),X=$(),z=xa(H(v.visStart),t),l=n.map(i,f),s,ba,oa,ra,pa,ua,
w=[];for(s=0;s<m;s++){ba=rb(qb(i,l,z,xa(H(z),X-t)));wc(ba);for(oa=0;oa<ba.length;oa++){ra=ba[oa];for(pa=0;pa<ra.length;pa++){ua=ra[pa];ua.col=s;ua.level=oa;w.push(ua)}}ja(z,1,true)}return w}function f(i){return i.end?H(i.end):xa(H(i.start),A("defaultEventMinutes"))}function k(i,m){var t,X=i.length,z,l,s,ba,oa,ra,pa,ua,w,L="",aa,S,ma={},ia={},va=B(),wa;t=Q();var Ca=t>1;if(aa=A("isRTL")){S=-1;wa=t-1}else{S=1;wa=0}for(t=0;t<X;t++){z=i[t];l=z.event;s=u(z.start,z.start);ba=u(z.start,z.end);oa=z.col;ra=
z.level;pa=z.forward||0;ua=p(oa*S+wa);w=N(oa*S+wa)-ua;w=Math.min(w-6,w*0.95);oa=ra?w/(ra+pa+1):pa?Ca?(w/(pa+1)-6)*2:(oa=w/(pa+1)):w;ra=ua+w/(ra+pa+1)*ra*S+(aa?w-oa:0);z.top=s;z.left=ra;z.outerWidth=oa-(Ca?0:1);z.outerHeight=ba-s;L+=q(l,z)}va[0].innerHTML=L;aa=va.children();for(t=0;t<X;t++){z=i[t];l=z.event;L=n(aa[t]);S=la("eventRender",l,l,L);if(S===false)L.remove();else{if(S&&S!==true){L.remove();L=n(S).css({position:"absolute",top:z.top,left:z.left}).appendTo(va)}z.element=L;if(l._id===m)e(l,L,
z);else L[0]._fci=t;V(l,L)}}Gb(va,i,e);for(t=0;t<X;t++){z=i[t];if(L=z.element){l=ma[m=z.key=Lb(L[0])];z.vsides=l===qa?(ma[m]=Ua(L,true)):l;l=ia[m];z.hsides=l===qa?(ia[m]=sb(L,true)):l;m=L.find("div.fc-event-content");if(m.length)z.contentTop=m[0].offsetTop}}for(t=0;t<X;t++){z=i[t];if(L=z.element){L[0].style.width=Math.max(0,z.outerWidth-z.hsides)+"px";ma=Math.max(0,z.outerHeight-z.vsides);L[0].style.height=ma+"px";l=z.event;if(z.contentTop!==qa&&ma-z.contentTop<10){L.find("div.fc-event-time").text(ga(l.start,
A("timeFormat"))+" - "+l.title);L.find("div.fc-event-title").remove()}la("eventAfterRender",l,l,L)}}}function q(i,m){var t="<",X=i.url,z=cb(i,A),l=z?" style='"+z+"'":"",s=["fc-event","fc-event-skin","fc-event-vert"];ca(i)&&s.push("fc-event-draggable");m.isStart&&s.push("fc-corner-top");m.isEnd&&s.push("fc-corner-bottom");s=s.concat(i.className);if(i.source)s=s.concat(i.source.className||[]);t+=X?"a href='"+Ea(i.url)+"'":"div";t+=" class='"+s.join(" ")+"' style='position:absolute;z-index:8;top:"+m.top+
"px;left:"+m.left+"px;"+z+"'><div class='fc-event-inner fc-event-skin'"+l+"><div class='fc-event-head fc-event-skin'"+l+"><div class='fc-event-time'>"+Ea(fa(i.start,i.end,A("timeFormat")))+"</div></div><div class='fc-event-content'><div class='fc-event-title'>"+Ea(i.title)+"</div></div><div class='fc-event-bg'></div></div>";if(m.isEnd&&na(i))t+="<div class='ui-resizable-handle ui-resizable-s'>=</div>";t+="</"+(X?"a":"div")+">";return t}function h(i,m,t){ca(i)&&R(i,m,t.isStart);t.isEnd&&na(i)&&d(i,
m,t);Z(i,m)}function e(i,m,t){var X=m.find("div.fc-event-time");ca(i)&&O(i,m,X);t.isEnd&&na(i)&&T(i,m,X);Z(i,m)}function r(){var i=ta(),m=i.children(".fc-timeline");if(m.length==0)m=n("<hr>").addClass("fc-timeline").appendTo(i);var t=new Date;if(v.visStart<t&&v.visEnd>t){m.show();t=(t.getHours()*60*60+t.getMinutes()*60+t.getSeconds())/86400;m.css("top",Math.floor(i.height()*t-1)+"px");if(v.name=="agendaWeek"){t=n(".fc-today",v.element);i=t.position().left+1;t=t.width();m.css({left:i+"px",width:t+
"px"})}}else m.hide()}function R(i,m,t){function X(){if(!s){m.width(z).height("").draggable("option","grid",null);s=true}}var z,l,s=true,ba,oa=A("isRTL")?-1:1,ra=x(),pa=K(),ua=E(),w=U();m.draggable({zIndex:9,opacity:A("dragOpacity","month"),revertDuration:A("dragRevertDuration"),start:function(L,aa){la("eventDragStart",m,i,L,aa);y(i,m);z=m.width();ra.start(function(S,ma,ia,va){j();if(S){l=false;ba=va*oa;if(S.row)if(t){if(s){m.width(pa-10);Hb(m,ua*Math.round((i.end?(i.end-i.start)/xc:A("defaultEventMinutes"))/
A("slotMinutes")));m.draggable("option","grid",[pa,1]);s=false}}else l=true;else{Y(ja(H(i.start),ba),ja(Wa(i),ba));X()}l=l||s&&!ba}else{X();l=true}m.draggable("option","revert",l)},L,"drag")},stop:function(L,aa){ra.stop();j();la("eventDragStop",m,i,L,aa);if(l){X();m.css("filter","");ka(i,m)}else{var S=0;s||(S=Math.round((m.offset().top-ta().offset().top)/ua)*A("slotMinutes")+w-(i.start.getHours()*60+i.start.getMinutes()));J(this,i,ba,S,s,L,aa)}}})}function O(i,m,t){function X(S){var ma=xa(H(i.start),
S),ia;if(i.end)ia=xa(H(i.end),S);t.text(fa(ma,ia,A("timeFormat")))}function z(){if(s){t.css("display","");m.draggable("option","grid",[L,aa]);s=false}}var l,s=false,ba,oa,ra,pa=A("isRTL")?-1:1,ua=x(),w=Q(),L=K(),aa=E();m.draggable({zIndex:9,scroll:false,grid:[L,aa],axis:w==1?"y":false,opacity:A("dragOpacity"),revertDuration:A("dragRevertDuration"),start:function(S,ma){la("eventDragStart",m,i,S,ma);y(i,m);l=m.position();oa=ra=0;ua.start(function(ia,va,wa,Ca){m.draggable("option","revert",!ia);j();
if(ia){ba=Ca*pa;if(A("allDaySlot")&&!ia.row){if(!s){s=true;t.hide();m.draggable("option","grid",null)}Y(ja(H(i.start),ba),ja(Wa(i),ba))}else z()}},S,"drag")},drag:function(S,ma){oa=Math.round((ma.position.top-l.top)/aa)*A("slotMinutes");if(oa!=ra){s||X(oa);ra=oa}},stop:function(S,ma){var ia=ua.stop();j();la("eventDragStop",m,i,S,ma);if(ia&&(ba||oa||s))J(this,i,ba,s?0:oa,s,S,ma);else{z();m.css("filter","");m.css(l);X(0);ka(i,m)}}})}function T(i,m,t){var X,z,l=E();m.resizable({handles:{s:"div.ui-resizable-s"},
grid:l,start:function(s,ba){X=z=0;y(i,m);m.css("z-index",9);la("eventResizeStart",this,i,s,ba)},resize:function(s,ba){X=Math.round((Math.max(l,m.height())-ba.originalSize.height)/l);if(X!=z){t.text(fa(i.start,!X&&!i.end?null:xa(P(i),A("slotMinutes")*X),A("timeFormat")));z=X}},stop:function(s,ba){la("eventResizeStop",this,i,s,ba);if(X)I(this,i,0,A("slotMinutes")*X,s,ba);else{m.css("z-index",8);ka(i,m)}}})}var v=this;v.renderEvents=a;v.compileDaySegs=g;v.clearEvents=b;v.slotSegHtml=q;v.bindDaySeg=h;
wb.call(v);var A=v.opt,la=v.trigger,ca=v.isEventDraggable,na=v.isEventResizable,P=v.eventEnd,da=v.reportEvents,G=v.reportEventClear,Z=v.eventElementHandlers,ea=v.setHeight,ha=v.getDaySegmentContainer,B=v.getSlotSegmentContainer,x=v.getHoverListener,$=v.getMaxMinute,U=v.getMinMinute,u=v.timePosition,p=v.colContentLeft,N=v.colContentRight,C=v.renderDaySegs,d=v.resizableDayEvent,Q=v.getColCnt,K=v.getColWidth,E=v.getSlotHeight,ta=v.getBodyContent,V=v.reportEventElement,ka=v.showEvents,y=v.hideEvents,
J=v.eventDrop,I=v.eventResize,Y=v.renderDayOverlay,j=v.clearOverlays,F=v.calendar,ga=F.formatDate,fa=F.formatDates,ya}function wc(a){var b,g,c,f,k,q;for(b=a.length-1;b>0;b--){f=a[b];for(g=0;g<f.length;g++){k=f[g];for(c=0;c<a[b-1].length;c++){q=a[b-1][c];if(Fb(k,q))q.forward=Math.max(q.forward||0,(k.forward||0)+1)}}}}function db(a,b,g){function c(u,p){u=U[u];if(typeof u=="object"&&!u.length)return mb(u,p||g);return u}function f(u,p){return b.trigger.apply(b,[u,p||G].concat(Array.prototype.slice.call(arguments,
2),[G]))}function k(u){return h(u)&&!c("disableDragging")}function q(u){return h(u)&&!c("disableResizing")}function h(u){return Va(u.editable,(u.source||{}).editable,c("editable"))}function e(u){B={};var p,N=u.length,C;for(p=0;p<N;p++){C=u[p];if(B[C._id])B[C._id].push(C);else B[C._id]=[C]}}function r(u){return u.end?H(u.end):Z(u)}function R(u,p){x.push(p);if($[u._id])$[u._id].push(p);else $[u._id]=[p]}function O(){x=[];$={}}function T(u,p){p.click(function(N){if(!p.hasClass("ui-draggable-dragging")&&
!p.hasClass("ui-resizable-resizing"))return f("eventClick",this,u,N)}).hover(function(N){f("eventMouseover",this,u,N)},function(N){f("eventMouseout",this,u,N)})}function v(u,p){la(u,p,"show")}function A(u,p){la(u,p,"hide")}function la(u,p,N){u=$[u._id];var C,d=u.length;for(C=0;C<d;C++)if(!p||u[C][0]!=p[0])u[C][N]()}function ca(u,p,N,C,d,Q,K){var E=p.allDay,ta=p._id;P(B[ta],N,C,d);f("eventDrop",u,p,N,C,d,function(){P(B[ta],-N,-C,E);ha(ta)},Q,K);ha(ta)}function na(u,p,N,C,d,Q){var K=p._id;da(B[K],N,
C);f("eventResize",u,p,N,C,function(){da(B[K],-N,-C);ha(K)},d,Q);ha(K)}function P(u,p,N,C){N=N||0;for(var d,Q=u.length,K=0;K<Q;K++){d=u[K];if(C!==qa)d.allDay=C;xa(ja(d.start,p,true),N);if(d.end)d.end=xa(ja(d.end,p,true),N);ea(d,U)}}function da(u,p,N){N=N||0;for(var C,d=u.length,Q=0;Q<d;Q++){C=u[Q];C.end=xa(ja(r(C),p,true),N);ea(C,U)}}var G=this;G.element=a;G.calendar=b;G.name=g;G.opt=c;G.trigger=f;G.isEventDraggable=k;G.isEventResizable=q;G.reportEvents=e;G.eventEnd=r;G.reportEventElement=R;G.reportEventClear=
O;G.eventElementHandlers=T;G.showEvents=v;G.hideEvents=A;G.eventDrop=ca;G.eventResize=na;var Z=G.defaultEventEnd,ea=b.normalizeEvent,ha=b.reportEventChange,B={},x=[],$={},U=b.options}function wb(){function a(y,J){var I=Q(),Y=B(),j=x(),F=0,ga,fa,ya=y.length,i,m,t,X,z=la("maxHeight");I[0].innerHTML=c(y);f(y,I.children());k(y);q(y,I,J);h(y);e(y);r(y);J=R();for(I=0;I<Y;I++){t=[];X={};ga=[];for(fa=0;fa<j;fa++){t[fa]=0;ga[fa]=0}for(;F<ya&&(i=y[F]).row==I;){fa=Kb(ga.slice(i.startCol,i.endCol));if(z&&fa+
i.outerHeight>z)i.overflow=true;else{i.top=fa;fa+=i.outerHeight}for(m=i.startCol;m<i.endCol;m++){if(t[m])i.overflow=true;if(i.overflow){if(i.isStart&&!X[m])X[m]={seg:i,top:fa,date:H(i.start,true),count:0};X[m]&&X[m].count++;t[m]++}else ga[m]=fa}F++}J[I].height(Kb(ga));b(X,J[I])}T(y,O(J))}function b(y,J){for(var I=Q(),Y=x(),j,F,ga=0;ga<Y;ga++)if(F=y[ga])if(F.count>1){j=n("<a>").addClass("fc-more-link").html("+"+F.count).appendTo(I);j[0].style.position="absolute";j[0].style.left=F.seg.left+"px";j[0].style.top=
F.top+J[0].offsetTop+"px";F=ca("overflowRender",F,{count:F.count,date:F.date},j);F===false&&j.remove()}else{F.seg.top=F.top;F.seg.overflow=false}}function g(y,J,I){var Y=n("<div/>"),j=Q(),F=y.length,ga;Y[0].innerHTML=c(y);Y=Y.children();j.append(Y);f(y,Y);h(y);e(y);r(y);T(y,O(R()));Y=[];for(j=0;j<F;j++)if(ga=y[j].element){y[j].row===J&&ga.css("top",I);Y.push(ga[0])}return n(Y)}function c(y){var J=la("isRTL"),I,Y=y.length,j,F,ga,fa;I=U();var ya=I.left,i=I.right,m,t,X,z,l,s="";for(I=0;I<Y;I++){j=y[I];
F=j.event;fa=["fc-event","fc-event-skin","fc-event-hori"];na(F)&&fa.push("fc-event-draggable");if(J){j.isStart&&fa.push("fc-corner-right");j.isEnd&&fa.push("fc-corner-left");m=N(j.end.getDay()-1);t=N(j.start.getDay());X=j.isEnd?u(m):ya;z=j.isStart?p(t):i}else{j.isStart&&fa.push("fc-corner-left");j.isEnd&&fa.push("fc-corner-right");m=N(j.start.getDay());t=N(j.end.getDay()-1);X=j.isStart?u(m):ya;z=j.isEnd?p(t):i}fa=fa.concat(F.className);if(F.source)fa=fa.concat(F.source.className||[]);ga=F.url;l=cb(F,
la);s+=ga?"<a href='"+Ea(ga)+"'":"<div";s+=" class='"+fa.join(" ")+"' style='position:absolute;z-index:8;left:"+X+"px;"+l+"'><div class='fc-event-inner fc-event-skin'"+(l?" style='"+l+"'":"")+">";if(!F.allDay&&j.isStart)s+="<span class='fc-event-time'>"+Ea(E(F.start,F.end,la("timeFormat")))+"</span>";s+="<span class='fc-event-title'>"+Ea(F.title)+"</span></div>";if(j.isEnd&&P(F))s+="<div class='ui-resizable-handle ui-resizable-"+(J?"w":"e")+"'>&nbsp;&nbsp;&nbsp;</div>";s+="</"+(ga?"a":"div")+">";
j.left=X;j.outerWidth=z-X;j.startCol=m;j.endCol=t+1}return s}function f(y,J){var I,Y=y.length,j,F,ga;for(I=0;I<Y;I++){j=y[I];F=j.event;ga=n(J[I]);F=ca("eventRender",F,F,ga);if(F===false)ga.remove();else{if(F&&F!==true){F=n(F).css({position:"absolute",left:j.left});ga.replaceWith(F);ga=F}j.element=ga}}}function k(y){var J,I=y.length,Y,j;for(J=0;J<I;J++){Y=y[J];(j=Y.element)&&G(Y.event,j)}}function q(y,J,I){var Y,j=y.length,F,ga,fa;for(Y=0;Y<j;Y++){F=y[Y];if(ga=F.element){fa=F.event;if(fa._id===I)K(fa,
ga,F);else ga[0]._fci=Y}}Gb(J,y,K)}function h(y){var J,I=y.length,Y,j,F,ga,fa={};for(J=0;J<I;J++){Y=y[J];if(j=Y.element){F=Y.key=Lb(j[0]);ga=fa[F];if(ga===qa)ga=fa[F]=sb(j,true);Y.hsides=ga}}}function e(y){var J,I=y.length,Y,j;for(J=0;J<I;J++){Y=y[J];if(j=Y.element)j[0].style.width=Math.max(0,Y.outerWidth-Y.hsides)+"px"}}function r(y){var J,I=y.length,Y,j,F,ga,fa={};for(J=0;J<I;J++){Y=y[J];if(j=Y.element){F=Y.key;ga=fa[F];if(ga===qa)ga=fa[F]=Ib(j);Y.outerHeight=j[0].offsetHeight+ga}else Y.outerHeight=
0}}function R(){var y,J=B(),I=[];for(y=0;y<J;y++)I[y]=$(y).find("td:first div.fc-day-content > div");return I}function O(y){var J,I=y.length,Y=[];for(J=0;J<I;J++)Y[J]=y[J][0].offsetTop;return Y}function T(y,J){var I,Y=y.length,j,F;for(I=0;I<Y;I++){j=y[I];if((F=j.element)&&!j.overflow){F[0].style.top=J[j.row]+(j.top||0)+"px";j=j.event;ca("eventAfterRender",j,j,F)}else F&&F.hide()}}function v(y,J,I){var Y=la("isRTL"),j=Y?"w":"e",F=J.find("div.ui-resizable-"+j),ga=false;tb(J);J.mousedown(function(fa){fa.preventDefault()}).click(function(fa){if(ga){fa.preventDefault();
fa.stopImmediatePropagation()}});F.mousedown(function(fa){function ya(pa){ca("eventResizeStop",this,y,pa);n("body").css("cursor","");i.stop();V();s&&ha(this,y,s,0,pa);setTimeout(function(){ga=false},0)}if(fa.which==1){ga=true;var i=A.getHoverListener(),m=B(),t=x(),X=Y?-1:1,z=Y?t-1:0,l=J.css("top"),s,ba,oa=n.extend({},y),ra=C(y.start);ka();n("body").css("cursor",j+"-resize").one("mouseup",ya);ca("eventResizeStart",this,y,fa);i.start(function(pa,ua){if(pa){var w=Math.max(ra.row,pa.row);pa=pa.col;if(m==
1)w=0;if(w==ra.row)pa=Y?Math.min(ra.col,pa):Math.max(ra.col,pa);s=w*7+pa*X+z-(ua.row*7+ua.col*X+z);ua=ja(da(y),s,true);if(s){oa.end=ua;w=ba;ba=g(d([oa]),I.row,l);ba.find("*").css("cursor",j+"-resize");w&&w.remove();ea(y)}else if(ba){Z(y);ba.remove();ba=null}V();ta(y.start,ja(H(ua),1))}},fa)}})}var A=this;A.renderDaySegs=a;A.resizableDayEvent=v;var la=A.opt,ca=A.trigger,na=A.isEventDraggable,P=A.isEventResizable,da=A.eventEnd,G=A.reportEventElement,Z=A.showEvents,ea=A.hideEvents,ha=A.eventResize,B=
A.getRowCnt,x=A.getColCnt,$=A.allDayRow,U=A.allDayBounds,u=A.colContentLeft,p=A.colContentRight,N=A.dayOfWeekCol,C=A.dateCell,d=A.compileDaySegs,Q=A.getDaySegmentContainer,K=A.bindDaySeg,E=A.calendar.formatDates,ta=A.renderDayOverlay,V=A.clearOverlays,ka=A.clearSelection}function Ob(){function a(O,T,v){b();T||(T=h(O,v));e(O,T,v);g(O,T,v)}function b(O){if(R){R=false;r();q("unselect",null,O)}}function g(O,T,v,A){R=true;q("select",null,O,T,v,A)}function c(O){var T=f.cellDate,v=f.cellIsAllDay,A=f.getHoverListener(),
la=f.reportDayClick;if(O.which==1&&k("selectable")){b(O);var ca;A.start(function(na,P){r();if(na&&v(na)){ca=[T(P),T(na)].sort(Jb);e(ca[0],ca[1],true)}else ca=null},O);n(document).one("mouseup",function(na){A.stop();if(ca){+ca[0]==+ca[1]&&la(ca[0],true,na);g(ca[0],ca[1],true,na)}})}}var f=this;f.select=a;f.unselect=b;f.reportSelection=g;f.daySelectionMousedown=c;var k=f.opt,q=f.trigger,h=f.defaultSelectionEnd,e=f.renderSelection,r=f.clearSelection,R=false;k("selectable")&&k("unselectAuto")&&n(document).mousedown(function(O){var T=
k("unselectCancel");if(T)if(n(O.target).parents(T).length)return;b(O)})}function Nb(){function a(k,q){var h=f.shift();h||(h=n("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>"));h[0].parentNode!=q[0]&&h.appendTo(q);c.push(h.css(k).show());return h}function b(){for(var k;k=c.shift();)f.push(k.hide().unbind())}var g=this;g.renderOverlay=a;g.clearOverlays=b;var c=[],f=[]}function Pb(a){var b=this,g,c;b.build=function(){g=[];c=[];a(g,c)};b.cell=function(f,k){var q=g.length,h=c.length,
e,r=-1,R=-1;for(e=0;e<q;e++)if(k>=g[e][0]&&k<g[e][1]){r=e;break}for(e=0;e<h;e++)if(f>=c[e][0]&&f<c[e][1]){R=e;break}return r>=0&&R>=0?{row:r,col:R}:null};b.rect=function(f,k,q,h,e){e=e.offset();return{top:g[f][0]-e.top,left:c[k][0]-e.left,width:c[h][1]-c[k][0],height:g[q][1]-g[f][0]}}}function Qb(a){function b(h){yc(h);h=a.cell(h.pageX,h.pageY);if(!h!=!q||h&&(h.row!=q.row||h.col!=q.col)){if(h){k||(k=h);f(h,k,h.row-k.row,h.col-k.col)}else f(h,k);q=h}}var g=this,c,f,k,q;g.start=function(h,e,r){f=h;
k=q=null;a.build();b(e);c=r||"mousemove";n(document).bind(c,b)};g.stop=function(){n(document).unbind(c,b);return q}}function yc(a){if(a.pageX===qa){a.pageX=a.originalEvent.pageX;a.pageY=a.originalEvent.pageY}}function Rb(a){function b(q){return c[q]=c[q]||a(q)}var g=this,c={},f={},k={};g.left=function(q){return f[q]=f[q]===qa?b(q).position().left:f[q]};g.right=function(q){return k[q]=k[q]===qa?g.left(q)+b(q).width():k[q]};g.clear=function(){c={};f={};k={}}}function Zb(){function a(){O();A().empty()}
function b(P,da){P.sort(c);R(P);f(g(P),da)}function g(P){var da=[],G=e("titleFormat","day"),Z=e("firstDay"),ea=e("listSections"),ha,B,x,$,U,u,p,N=-1,C=Ia(new Date),d=ja(H(C),-((C.getDay()-Z+7)%7));for(ha=0;ha<P.length;ha++){Z=P[ha];if(!((Z.end||Z.start)<h.start||Z.start>h.visEnd)){p=H(Z.start<h.start&&Z.end>h.start?h.start:Z.start,true);B=Ba(p,C);x=Math.floor(Ba(p,d)/7);$=p.getMonth()+(p.getYear()-C.getYear())*12-C.getMonth();if(ea=="smart")if(B<0)U=e("listTexts","past");else if(B==0)U=e("listTexts",
"today");else if(B==1)U=e("listTexts","tomorrow");else if(x==0)U=e("listTexts","thisWeek");else if(x==1)U=e("listTexts","nextWeek");else if($==0)U=e("listTexts","thisMonth");else if($==1)U=e("listTexts","nextMonth");else{if($>1)U=e("listTexts","future")}else U=ea=="month"?ca(p,"MMMM yyyy"):ea=="week"?e("listTexts","week")+ca(p," W"):ea=="day"?ca(p,G):"";if(U!=u){da[++N]={events:[],start:p,title:U,daydiff:B,weekdiff:x,monthdiff:$};u=U}da[N].events.push(Z)}}return da}function c(P,da){return P.start.getTime()-
da.start.getTime()||(P.end?P.end.getTime():0)-(da.end?da.end.getTime():0)}function f(P,da){var G=e("theme")?"ui":"fc",Z=G+"-widget-header";G=G+"-widget-content";var ea,ha,B,x,$,U,u,p,N;for(ha=0;ha<P.length;ha++){B=P[ha];B.title&&n('<div class="fc-list-header '+Z+'">'+Ea(B.title)+"</div>").appendTo(A());N=n("<div>").addClass("fc-list-section "+G).appendTo(A());U="";for(ea=0;ea<B.events.length;ea++){x=B.events[ea];$=k(x,B);u=(u=cb(x,e))?" style='"+u+"'":"";p=["fc-event","fc-event-skin","fc-event-vert",
"fc-corner-top","fc-corner-bottom"].concat(x.className);if(x.source&&x.source.className)p=p.concat(x.source.className);U+="<div class='"+p.join(" ")+"'"+u+"><div class='fc-event-inner fc-event-skin'"+u+"><div class='fc-event-head fc-event-skin'"+u+"><div class='fc-event-time'>"+($[0]?'<span class="fc-col-date">'+$[0]+"</span> ":"")+($[1]?'<span class="fc-col-time">'+$[1]+"</span>":"")+"</div></div><div class='fc-event-content'><div class='fc-event-title'>"+Ea(x.title)+"</div></div><div class='fc-event-bg'></div></div></div>"}N[0].innerHTML=
U;U=N.children();for(ea=0;ea<B.events.length;ea++){x=B.events[ea];$=n(U[ea]);u=r("eventRender",x,x,$);if(u===false)$.remove();else{if(u&&u!==true){$.remove();$=n(u).appendTo(N)}if(x._id===da)v(x,$,B);else $[0]._fci=ea;T(x,$)}}q(N,B,v)}Sa(A())}function k(P,da){var G=e("timeFormat"),Z=e("columnFormat"),ea=e("listSections"),ha=P.end?P.end.getTime()-P.start.getTime():0,B="",x="";if(ea=="smart")if(P.start<da.start)B=e("listTexts","until")+" "+ca(P.end,P.allDay||P.end.getDate()!=da.start.getDate()?Z:G);
else if(ha>Qa)B=na(P.start,P.end,Z+"{ - "+Z+"}");else if(da.daydiff==0)B=e("listTexts","today");else if(da.daydiff==1)B=e("listTexts","tomorrow");else if(da.weekdiff==0||da.weekdiff==1)B=ca(P.start,"dddd");else{if(da.daydiff>1||da.daydiff<0)B=ca(P.start,Z)}else if(ea!="day")B=na(P.start,P.end,Z+(ha>Qa?"{ - "+Z+"}":""));if(!B&&P.allDay)x=e("allDayText");else if((ha<Qa||!B)&&!P.allDay)x=na(P.start,P.end,G);return[B,x]}function q(P,da,G){P.unbind("mouseover").mouseover(function(Z){for(var ea=Z.target,
ha=ea;ea!=this;){ha=ea;ea=ea.parentNode}if((ea=ha._fci)!==qa){ha._fci=qa;ha=da.events[ea];G(ha,P.children().eq(ea),da);n(Z.target).trigger(Z)}Z.stopPropagation()})}var h=this;h.renderEvents=b;h.renderEventTime=k;h.compileDaySegs=g;h.clearEvents=a;h.lazySegBind=q;h.sortCmp=c;wb.call(h);var e=h.opt,r=h.trigger,R=h.reportEvents,O=h.reportEventClear,T=h.reportEventElement,v=h.eventElementHandlers,A=h.getDaySegmentContainer,la=h.calendar,ca=la.formatDate,na=la.formatDates}function zc(a,b){function g(na,
P){P&&ja(na,r("listPage")*P);e.start=e.visStart=H(na,true);e.end=ja(H(e.start),r("listPage"));e.visEnd=ja(H(e.start),r("listRange"));xa(e.visEnd,-1);e.title=O(na,e.visEnd,r("titleFormat"));c();T?R():f()}function c(){v=r("firstDay");A=r("weekends")?0:1;la=r("theme")?"ui":"fc";ca=r("columnFormat","day")}function f(){T=n("<div>").addClass("fc-list-content").appendTo(a)}function k(na){r("listNoHeight")||T.css("height",na-1+"px").css("overflow","auto")}function q(){}function h(){}var e=this;e.render=g;
e.select=h;e.unselect=h;e.getDaySegmentContainer=function(){return T};db.call(e,a,b,"list");Zb.call(e);var r=e.opt,R=e.clearEvents,O=b.formatDates;e.setWidth=q;e.setHeight=k;var T,v,A,la,ca}function Ac(){function a(){r();v().children("tbody").remove()}function b(la,ca){la.sort(k);e(la);g(h(la),ca);v().removeClass("fc-list-smart fc-list-day fc-list-month fc-list-week").addClass("fc-list-"+f("listSections"))}function g(la,ca){var na=f("theme")?"ui":"fc",P=v(),da=na+"-widget-header";na=na+"-widget-content";
var G=f("tableCols"),Z=n.inArray("time",G)>=0,ea,ha,B,x,$,U,u,p,N,C;for(ha=0;ha<la.length;ha++){B=la[ha];B.title&&n('<tbody class="fc-list-header"><tr><td class="fc-list-header '+da+'" colspan="'+G.length+'">'+Ea(B.title)+"</td></tr></tbody>").appendTo(P);C=n("<tbody>").addClass("fc-list-section "+na).appendTo(P);U="";for(ea=0;ea<B.events.length;ea++){x=B.events[ea];$=T(x,B);u=(u=cb(x,f))?" style='"+u+"'":"";p=["fc-event-skin","fc-corner-left","fc-corner-right","fc-corner-top","fc-corner-bottom"].concat(x.className);
if(x.source&&x.source.className)p=p.concat(x.source.className);N=["fc-event","fc-event-row","fc-"+Mb[x.start.getDay()]];B.daydiff==0&&N.push("fc-today");U+="<tr class='"+N.join(" ")+"'>";for(var d=0;d<G.length;d++){N=G[d];if(N=="handle")U+="<td class='fc-event-handle'><div class='"+p.join(" ")+"'"+u+"><span class='fc-event-inner'></span></div></td>";else if(N=="date")U+="<td class='fc-event-date' colspan='"+($[1]||!Z?1:2)+"'>"+Ea($[0])+"</td>";else if(N=="time"){if($[1])U+="<td class='fc-event-time'>"+
Ea($[1])+"</td>"}else U+="<td class='fc-event-"+N+"'>"+(x[N]?Ea(x[N]):"&nbsp;")+"</td>"}U+="</tr>";if(document.all){n(U).appendTo(C);U=""}}if(!document.all)C[0].innerHTML=U;$=C.children();for(ea=0;ea<B.events.length;ea++){x=B.events[ea];U=n($[ea]);u=q("eventRender",x,x,U);if(u===false)U.remove();else{if(u&&u!==true){U.remove();U=n(u).appendTo(C)}if(x._id===ca)O(x,U,B);else U[0]._fci=ea;R(x,U)}}A(C,B,O);Sa(C)}}var c=this;Zb.call(c);var f=c.opt,k=c.sortCmp,q=c.trigger,h=c.compileDaySegs,e=c.reportEvents,
r=c.reportEventClear,R=c.reportEventElement,O=c.eventElementHandlers,T=c.renderEventTime,v=c.getDaySegmentContainer,A=c.lazySegBind;c.renderEvents=b;c.clearEvents=a}function Bc(a,b){function g(da,G){G&&ja(da,r("listPage")*G);e.start=e.visStart=H(da,true);e.end=ja(H(e.start),r("listPage"));e.visEnd=ja(H(e.start),r("listRange"));xa(e.visEnd,-1);e.title=e.visEnd.getTime()-e.visStart.getTime()<Qa?T(da,r("titleFormat")):O(da,e.visEnd,r("titleFormat"));c();A?R():f()}function c(){la=r("firstDay");ca=r("weekends")?
0:1;na=r("theme")?"ui":"fc";P=r("columnFormat")}function f(){for(var da=r("tableCols"),G="<table class='fc-border-separate' style='width:100%' cellspacing='0'><colgroup>",Z=0;Z<da.length;Z++)G+="<col class='fc-event-"+da[Z]+"' />";G+="</colgroup></table>";v=n("<div>").addClass("fc-list-content").appendTo(a);A=n(G).appendTo(v)}function k(da){r("listNoHeight")||v.css("height",da-1+"px").css("overflow","auto")}function q(){}function h(){}var e=this;e.render=g;e.select=h;e.unselect=h;e.getDaySegmentContainer=
function(){return A};db.call(e,a,b,"table");Ac.call(e);var r=e.opt,R=e.clearEvents,O=b.formatDates,T=b.formatDate;e.setWidth=q;e.setHeight=k;var v,A,la,ca,na,P}var $a={defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:true,currentTimeIndicator:false,allDayDefault:true,ignoreTimezone:true,lazyFetching:true,startParam:"start",endParam:"end",titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy",list:"MMM d, yyyy",
table:"MMM d, yyyy"},columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d",list:"dddd, MMM d, yyyy",table:"MMM d, yyyy"},timeFormat:{"":"h(:mm)t"},isRTL:false,firstDay:0,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed",
"Thu","Fri","Sat"],buttonText:{prev:"&nbsp;&#9668;&nbsp;",next:"&nbsp;&#9658;&nbsp;",prevYear:"&nbsp;&lt;&lt;&nbsp;",nextYear:"&nbsp;&gt;&gt;&nbsp;",today:"today",month:"month",week:"week",day:"day",list:"list",table:"table"},listTexts:{until:"until",past:"Past events",today:"Today",tomorrow:"Tomorrow",thisWeek:"This week",nextWeek:"Next week",thisMonth:"This month",nextMonth:"Next month",future:"Future events",week:"W"},listSections:"month",listRange:30,listPage:7,tableCols:["handle","date","time",
"title"],theme:false,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"},unselectAuto:true,dropAccept:"*"},Cc={header:{left:"next,prev today",center:"",right:"title"},buttonText:{prev:"&nbsp;&#9658;&nbsp;",next:"&nbsp;&#9668;&nbsp;",prevYear:"&nbsp;&gt;&gt;&nbsp;",nextYear:"&nbsp;&lt;&lt;&nbsp;"},buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}},Aa=n.fullCalendar={version:"1.5.4"},Ha=Aa.views={};n.fn.fullCalendar=function(a){if(typeof a=="string"){var b=Array.prototype.slice.call(arguments,
1),g;this.each(function(){var f=n.data(this,"fullCalendar");if(f&&n.isFunction(f[a])){f=f[a].apply(f,b);if(g===qa)g=f;a=="destroy"&&n.removeData(this,"fullCalendar")}});if(g!==qa)return g;return this}var c=a.eventSources||[];delete a.eventSources;if(a.events){c.push(a.events);delete a.events}a=n.extend(true,{},$a,a.isRTL||a.isRTL===qa&&$a.isRTL?Cc:{},a);this.each(function(f,k){f=n(k);k=new $b(f,a,c);f.data("fullCalendar",k);k.render()});return this};Aa.sourceNormalizers=[];Aa.sourceFetchers=[];var cc=
{dataType:"json",cache:false},dc=1;Aa.addDays=ja;Aa.cloneDate=H;Aa.parseDate=nb;Aa.parseISO8601=Eb;Aa.parseTime=pb;Aa.formatDate=Pa;Aa.formatDates=lb;var Mb=["sun","mon","tue","wed","thu","fri","sat"],Qa=864E5,ec=36E5,xc=6E4,fc={s:function(a){return a.getSeconds()},ss:function(a){return Ra(a.getSeconds())},m:function(a){return a.getMinutes()},mm:function(a){return Ra(a.getMinutes())},h:function(a){return a.getHours()%12||12},hh:function(a){return Ra(a.getHours()%12||12)},H:function(a){return a.getHours()},
HH:function(a){return Ra(a.getHours())},d:function(a){return a.getDate()},dd:function(a){return Ra(a.getDate())},ddd:function(a,b){return b.dayNamesShort[a.getDay()]},dddd:function(a,b){return b.dayNames[a.getDay()]},M:function(a){return a.getMonth()+1},MM:function(a){return Ra(a.getMonth()+1)},MMM:function(a,b){return b.monthNamesShort[a.getMonth()]},MMMM:function(a,b){return b.monthNames[a.getMonth()]},yy:function(a){return(a.getFullYear()+"").substring(2)},yyyy:function(a){return a.getFullYear()},
t:function(a){return a.getHours()<12?"a":"p"},tt:function(a){return a.getHours()<12?"am":"pm"},T:function(a){return a.getHours()<12?"A":"P"},TT:function(a){return a.getHours()<12?"AM":"PM"},u:function(a){return Pa(a,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(a){a=a.getDate();if(a>10&&a<20)return"th";return["st","nd","rd"][a%10-1]||"th"},W:function(a){return Dc(a)}},Dc=function(a){a=H(a);a.setDate(a.getDate()+4-(a.getDay()||7));var b=a.getTime();a.setMonth(0);a.setDate(1);return Math.floor(Math.round((b-
a)/864E5)/7)+1};Aa.applyAll=bb;Ha.month=nc;Ha.basicWeek=oc;Ha.basicDay=pc;Ab({weekMode:"fixed"});Ha.agendaWeek=rc;Ha.agendaDay=sc;Ab({allDaySlot:true,allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:0.5},minTime:0,maxTime:24});Ha.list=zc;Ha.table=Bc})(jQuery);
